<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title><%= title %></title>
  <link rel="stylesheet" href="/css/styles.css">
</head>

<body>
  <main style="padding: 15px;">
    <% if(alert == "info") { %>
    <div class="alert-info">
      <div class="alert-content">
        <p> <%= message %> </p>
        <img src="/icons/alert-square-rounded-fill.svg" alt="Alerta">
      </div>
    </div>
    <% } else if(alert == "warning") { %>
    <div class="alert-warning">
      <div class="alert-content">
        <p> <%= message %> </p>
        <img src="/icons/alert-square-rounded-fill.svg" alt="Alerta">
      </div>
    </div>
    <% } else if(alert == "error") { %>
    <div class="alert-error">
      <div class="alert-content">
        <p> <%= message %> </p>
        <img src="/icons/alert-square-rounded-fill.svg" alt="Alerta">
      </div>
    </div>
    <% } else if(alert == "success") { %>
    <div class="alert-success">
      <div class="alert-content">
        <p> <%= message %> </p>
        <img src="/icons/alert-square-rounded-fill.svg" alt="Alerta">
      </div>
    </div>
    <% } %>
    <div class="login">
      <script src="https://animatedicons.co/scripts/embed-animated-icons.js"></script>
      <animated-icons
        src="https://animatedicons.co/get-icon?name=Individual&style=minimalistic&token=ae97ee7c-56cc-4490-90bd-ecd3fc81466e"
        trigger="loop"
        attributes='{"variationThumbColour":"#536DFE","variationName":"Two Tone","variationNumber":2,"numberOfGroups":2,"backgroundIsGroup":false,"strokeWidth":1,"defaultColours":{"group-1":"#000000","group-2":"#536DFE","background":"#FFFFFF"}}'
        height="100" width="100"></animated-icons>
      <!-- <img src="icons/individual.svg" alt="Logo" class="logo"> -->
      <h1>Iniciar sesión</h1>
      <form action="/auth/login" method="POST">
        <label for="username">Correo:</label>
        <input type="email" id="username" name="username" required>
        <label for="password">Contraseña:</label>
        <input type="password" id="password" name="password" required>
        <div class="eye-icon-container">
          <img src="/icons/eye-closed.svg" width="25px" height="25px" alt="ojo cerrado" class="eye-icon"
            onclick="togglePasswordVisibility()">
        </div>
        <button type="submit">Iniciar sesión</button>
        <br>
        <p style="margin: auto;">¿No tienes una cuenta? <a href="/register">Regístrate</a></p>
        <p style="margin: auto;">¿Olvidaste tu contraseña? </p>
        <a style="margin: auto;" href="/reset-password">Restablecer contraseña</a>
      </form>
    </div>
  </main>
  <script>
    function togglePasswordVisibility() {
      const passwordField = document.getElementById('password');
      const eyeIcon = document.querySelector('.eye-icon');
      if (passwordField.type === 'password') {
        passwordField.type = 'text';
        eyeIcon.src = 'icons/eye.svg'; // Cambia a icono de ojo cerrado
      } else {
        passwordField.type = 'password';
        eyeIcon.src = 'icons/eye-closed.svg'; // Cambia a icono de ojo abierto
      }
    }
  </script>
</body>

</html>